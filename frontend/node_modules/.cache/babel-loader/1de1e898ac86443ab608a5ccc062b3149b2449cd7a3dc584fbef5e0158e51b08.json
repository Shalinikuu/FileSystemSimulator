{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marco\\\\OneDrive\\\\Desktop\\\\PROJECTS\\\\PBL_FINAL\\\\FileSystemSimulator\\\\frontend\\\\src\\\\components\\\\Terminal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './Terminal.css';\nimport { fileSystemService } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Terminal = ({\n  currentPath,\n  onCommandExecuted\n}) => {\n  _s();\n  const [commandHistory, setCommandHistory] = useState([]);\n  const [currentCommand, setCurrentCommand] = useState('');\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [outputHistory, setOutputHistory] = useState([{\n    text: `Welcome to File System Terminal\\nCurrent directory: ${currentPath}\\n`,\n    type: 'system'\n  }]);\n  const terminalRef = useRef(null);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (terminalRef.current) {\n      terminalRef.current.scrollTop = terminalRef.current.scrollHeight;\n    }\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [outputHistory]);\n\n  // Update output when currentPath changes\n  useEffect(() => {\n    if (currentPath) {\n      setOutputHistory(prev => [...prev, {\n        text: `Current directory: ${currentPath}`,\n        type: 'system'\n      }]);\n    }\n  }, [currentPath]);\n  const executeCommand = async command => {\n    const trimmedCommand = command.trim();\n    if (!trimmedCommand) return;\n\n    // Add command to history\n    setCommandHistory(prev => [...prev, trimmedCommand]);\n    setOutputHistory(prev => [...prev, {\n      text: `$ ${trimmedCommand}`,\n      type: 'command'\n    }]);\n\n    // Get the current token\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setOutputHistory(prev => [...prev, {\n        text: 'Error: Not authenticated. Please log in.',\n        type: 'error'\n      }]);\n      return;\n    }\n\n    // Parse command\n    const [cmd, ...args] = trimmedCommand.split(' ');\n    try {\n      let response;\n      let shouldRefresh = false;\n      switch (cmd.toLowerCase()) {\n        case 'ls':\n          response = await fileSystemService.listFiles();\n          shouldRefresh = true;\n          break;\n        case 'cd':\n          if (!args[0]) {\n            setOutputHistory(prev => [...prev, {\n              text: 'Usage: cd <directory>',\n              type: 'error'\n            }]);\n            return;\n          }\n          try {\n            // Check if trying to go above root with cd ..\n            if (args[0] === '..') {\n              response = await fileSystemService.moveUpDirectory();\n            } else {\n              response = await fileSystemService.changeDirectory(args[0]);\n            }\n            if (response && response.data) {\n              // Update current directory in UI\n              if (response.data.currentDir) {\n                onCommandExecuted(); // Refresh the file explorer\n                setOutputHistory(prev => [...prev, {\n                  text: `Changed directory to: ${response.data.currentDir}`,\n                  type: 'output'\n                }]);\n              } else if (response.data.status === 'error') {\n                setOutputHistory(prev => [...prev, {\n                  text: response.data.message || 'Failed to change directory',\n                  type: 'error'\n                }]);\n              }\n            }\n          } catch (error) {\n            setOutputHistory(prev => {\n              var _error$response;\n              return [...prev, {\n                text: `Failed to change directory: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message}`,\n                type: 'error'\n              }];\n            });\n          }\n          shouldRefresh = true;\n          break;\n        case 'mkdir':\n          if (!args[0]) {\n            setOutputHistory(prev => [...prev, {\n              text: 'Usage: mkdir <directory>',\n              type: 'error'\n            }]);\n            return;\n          }\n          response = await fileSystemService.createDirectory(args[0]);\n          shouldRefresh = true;\n          break;\n        case 'touch':\n        case 'create':\n          if (!args[0]) {\n            setOutputHistory(prev => [...prev, {\n              text: 'Usage: create <filename>',\n              type: 'error'\n            }]);\n            return;\n          }\n          response = await fileSystemService.createFile(args[0], '');\n          shouldRefresh = true;\n          break;\n        case 'rm':\n          if (!args[0]) {\n            setOutputHistory(prev => [...prev, {\n              text: 'Usage: rm <filename>',\n              type: 'error'\n            }]);\n            return;\n          }\n          response = await fileSystemService.deleteFile(args[0]);\n          shouldRefresh = true;\n          break;\n        case 'rmdir':\n          if (!args[0]) {\n            setOutputHistory(prev => [...prev, {\n              text: 'Usage: rmdir <directory>',\n              type: 'error'\n            }]);\n            return;\n          }\n          response = await fileSystemService.deleteDirectory(args[0]);\n          shouldRefresh = true;\n          break;\n        case 'pwd':\n          response = await fileSystemService.getCurrentDirectory();\n          break;\n        case 'clear':\n          setOutputHistory([{\n            text: `Welcome to File System Terminal\\nCurrent directory: ${currentPath}\\n`,\n            type: 'system'\n          }]);\n          return;\n        case 'help':\n          const helpText = `\nAvailable commands:\n  ls              - List directory contents\n  cd <dir>        - Change directory\n  cd ..           - moveup dir\n  mkdir <dir>     - Create directory\n  touch/create <file> - Create file\n  rm <file>       - Remove file\n  rmdir <dir>     - Remove directory\n  pwd             - Print working directory\n  clear           - Clear terminal\n  help            - Show this help message\n`;\n          setOutputHistory(prev => [...prev, {\n            text: helpText,\n            type: 'output'\n          }]);\n          return;\n        default:\n          setOutputHistory(prev => [...prev, {\n            text: `Command not found: ${cmd}. Type 'help' for available commands.`,\n            type: 'error'\n          }]);\n          return;\n      }\n      if (response && response.data) {\n        setOutputHistory(prev => [...prev, {\n          text: typeof response.data === 'string' ? response.data : JSON.stringify(response.data, null, 2),\n          type: 'output'\n        }]);\n\n        // Call the refresh callback if the command was successful and should trigger a refresh\n        if (shouldRefresh && onCommandExecuted) {\n          onCommandExecuted();\n        }\n      }\n    } catch (error) {\n      setOutputHistory(prev => [...prev, {\n        text: `Error: ${error.message}`,\n        type: 'error'\n      }]);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      executeCommand(currentCommand);\n      setCurrentCommand('');\n      setHistoryIndex(-1);\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      if (commandHistory.length > 0) {\n        const newIndex = historyIndex + 1;\n        if (newIndex < commandHistory.length) {\n          setHistoryIndex(newIndex);\n          setCurrentCommand(commandHistory[commandHistory.length - 1 - newIndex]);\n        }\n      }\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (historyIndex > 0) {\n        const newIndex = historyIndex - 1;\n        setHistoryIndex(newIndex);\n        setCurrentCommand(commandHistory[commandHistory.length - 1 - newIndex]);\n      } else if (historyIndex === 0) {\n        setHistoryIndex(-1);\n        setCurrentCommand('');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"terminal-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terminal-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Terminal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close-button\",\n        onClick: () => document.querySelector('.terminal-wrapper').style.display = 'none',\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terminal-window\",\n      ref: terminalRef,\n      children: [outputHistory.map((output, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `terminal-line ${output.type}`,\n        children: output.text\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"terminal-input-line\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"prompt\",\n          children: \"$\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          type: \"text\",\n          value: currentCommand,\n          onChange: e => setCurrentCommand(e.target.value),\n          onKeyDown: handleKeyDown,\n          className: \"terminal-input\",\n          spellCheck: \"false\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 9\n  }, this);\n};\n_s(Terminal, \"3XYQVKnyHYxVaqaMHsiYJZdCEjo=\");\n_c = Terminal;\nexport default Terminal;\nvar _c;\n$RefreshReg$(_c, \"Terminal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","fileSystemService","jsxDEV","_jsxDEV","Terminal","currentPath","onCommandExecuted","_s","commandHistory","setCommandHistory","currentCommand","setCurrentCommand","historyIndex","setHistoryIndex","outputHistory","setOutputHistory","text","type","terminalRef","inputRef","current","scrollTop","scrollHeight","focus","prev","executeCommand","command","trimmedCommand","trim","token","localStorage","getItem","cmd","args","split","response","shouldRefresh","toLowerCase","listFiles","moveUpDirectory","changeDirectory","data","currentDir","status","message","error","_error$response","createDirectory","createFile","deleteFile","deleteDirectory","getCurrentDirectory","helpText","JSON","stringify","handleKeyDown","e","key","preventDefault","length","newIndex","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","document","querySelector","style","display","ref","map","output","index","value","onChange","target","onKeyDown","spellCheck","autoFocus","_c","$RefreshReg$"],"sources":["C:/Users/marco/OneDrive/Desktop/PROJECTS/PBL_FINAL/FileSystemSimulator/frontend/src/components/Terminal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './Terminal.css';\nimport { fileSystemService } from '../api';\n\nconst Terminal = ({ currentPath, onCommandExecuted }) => {\n    const [commandHistory, setCommandHistory] = useState([]);\n    const [currentCommand, setCurrentCommand] = useState('');\n    const [historyIndex, setHistoryIndex] = useState(-1);\n    const [outputHistory, setOutputHistory] = useState([{ text: `Welcome to File System Terminal\\nCurrent directory: ${currentPath}\\n`, type: 'system' }]);\n    const terminalRef = useRef(null);\n    const inputRef = useRef(null);\n\n    useEffect(() => {\n        if (terminalRef.current) {\n            terminalRef.current.scrollTop = terminalRef.current.scrollHeight;\n        }\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [outputHistory]);\n\n    // Update output when currentPath changes\n    useEffect(() => {\n        if (currentPath) {\n            setOutputHistory(prev => [...prev, { text: `Current directory: ${currentPath}`, type: 'system' }]);\n        }\n    }, [currentPath]);\n\n    const executeCommand = async (command) => {\n        const trimmedCommand = command.trim();\n        if (!trimmedCommand) return;\n\n        // Add command to history\n        setCommandHistory(prev => [...prev, trimmedCommand]);\n        setOutputHistory(prev => [...prev, { text: `$ ${trimmedCommand}`, type: 'command' }]);\n\n        // Get the current token\n        const token = localStorage.getItem('token');\n        if (!token) {\n            setOutputHistory(prev => [...prev, { text: 'Error: Not authenticated. Please log in.', type: 'error' }]);\n            return;\n        }\n\n        // Parse command\n        const [cmd, ...args] = trimmedCommand.split(' ');\n\n        try {\n            let response;\n            let shouldRefresh = false;\n\n            switch (cmd.toLowerCase()) {\n                case 'ls':\n                    response = await fileSystemService.listFiles();\n                    shouldRefresh = true;\n                    break;\n                case 'cd':\n                    if (!args[0]) {\n                        setOutputHistory(prev => [...prev, { text: 'Usage: cd <directory>', type: 'error' }]);\n                        return;\n                    }\n                    try {\n                        // Check if trying to go above root with cd ..\n                        if (args[0] === '..') {\n                            response = await fileSystemService.moveUpDirectory();\n                        } else {\n                            response = await fileSystemService.changeDirectory(args[0]);\n                        }\n                        \n                        if (response && response.data) {\n                            // Update current directory in UI\n                            if (response.data.currentDir) {\n                                onCommandExecuted(); // Refresh the file explorer\n                                setOutputHistory(prev => [...prev, { \n                                    text: `Changed directory to: ${response.data.currentDir}`, \n                                    type: 'output' \n                                }]);\n                            } else if (response.data.status === 'error') {\n                                setOutputHistory(prev => [...prev, { \n                                    text: response.data.message || 'Failed to change directory', \n                                    type: 'error' \n                                }]);\n                            }\n                        }\n                    } catch (error) {\n                        setOutputHistory(prev => [...prev, { \n                            text: `Failed to change directory: ${error.response?.data || error.message}`, \n                            type: 'error' \n                        }]);\n                    }\n                    shouldRefresh = true;\n                    break;\n                case 'mkdir':\n                    if (!args[0]) {\n                        setOutputHistory(prev => [...prev, { text: 'Usage: mkdir <directory>', type: 'error' }]);\n                        return;\n                    }\n                    response = await fileSystemService.createDirectory(args[0]);\n                    shouldRefresh = true;\n                    break;\n                case 'touch':\n                case 'create':\n                    if (!args[0]) {\n                        setOutputHistory(prev => [...prev, { text: 'Usage: create <filename>', type: 'error' }]);\n                        return;\n                    }\n                    response = await fileSystemService.createFile(args[0], '');\n                    shouldRefresh = true;\n                    break;\n                case 'rm':\n                    if (!args[0]) {\n                        setOutputHistory(prev => [...prev, { text: 'Usage: rm <filename>', type: 'error' }]);\n                        return;\n                    }\n                    response = await fileSystemService.deleteFile(args[0]);\n                    shouldRefresh = true;\n                    break;\n                case 'rmdir':\n                    if (!args[0]) {\n                        setOutputHistory(prev => [...prev, { text: 'Usage: rmdir <directory>', type: 'error' }]);\n                        return;\n                    }\n                    response = await fileSystemService.deleteDirectory(args[0]);\n                    shouldRefresh = true;\n                    break;\n                case 'pwd':\n                    response = await fileSystemService.getCurrentDirectory();\n                    break;\n                case 'clear':\n                    setOutputHistory([{ text: `Welcome to File System Terminal\\nCurrent directory: ${currentPath}\\n`, type: 'system' }]);\n                    return;\n                case 'help':\n                    const helpText = `\nAvailable commands:\n  ls              - List directory contents\n  cd <dir>        - Change directory\n  cd ..           - moveup dir\n  mkdir <dir>     - Create directory\n  touch/create <file> - Create file\n  rm <file>       - Remove file\n  rmdir <dir>     - Remove directory\n  pwd             - Print working directory\n  clear           - Clear terminal\n  help            - Show this help message\n`;\n                    setOutputHistory(prev => [...prev, { text: helpText, type: 'output' }]);\n                    return;\n                default:\n                    setOutputHistory(prev => [...prev, { text: `Command not found: ${cmd}. Type 'help' for available commands.`, type: 'error' }]);\n                    return;\n            }\n\n            if (response && response.data) {\n                setOutputHistory(prev => [...prev, { \n                    text: typeof response.data === 'string' ? response.data : JSON.stringify(response.data, null, 2), \n                    type: 'output' \n                }]);\n\n                // Call the refresh callback if the command was successful and should trigger a refresh\n                if (shouldRefresh && onCommandExecuted) {\n                    onCommandExecuted();\n                }\n            }\n\n        } catch (error) {\n            setOutputHistory(prev => [...prev, { text: `Error: ${error.message}`, type: 'error' }]);\n        }\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            executeCommand(currentCommand);\n            setCurrentCommand('');\n            setHistoryIndex(-1);\n        } else if (e.key === 'ArrowUp') {\n            e.preventDefault();\n            if (commandHistory.length > 0) {\n                const newIndex = historyIndex + 1;\n                if (newIndex < commandHistory.length) {\n                    setHistoryIndex(newIndex);\n                    setCurrentCommand(commandHistory[commandHistory.length - 1 - newIndex]);\n                }\n            }\n        } else if (e.key === 'ArrowDown') {\n            e.preventDefault();\n            if (historyIndex > 0) {\n                const newIndex = historyIndex - 1;\n                setHistoryIndex(newIndex);\n                setCurrentCommand(commandHistory[commandHistory.length - 1 - newIndex]);\n            } else if (historyIndex === 0) {\n                setHistoryIndex(-1);\n                setCurrentCommand('');\n            }\n        }\n    };\n\n    return (\n        <div className=\"terminal-container\">\n            <div className=\"terminal-header\">\n                <span>Terminal</span>\n                <button className=\"close-button\" onClick={() => document.querySelector('.terminal-wrapper').style.display = 'none'}>Ã—</button>\n            </div>\n            <div className=\"terminal-window\" ref={terminalRef}>\n                {outputHistory.map((output, index) => (\n                    <div key={index} className={`terminal-line ${output.type}`}>\n                        {output.text}\n                    </div>\n                ))}\n                <div className=\"terminal-input-line\">\n                    <span className=\"prompt\">$</span>\n                    <input\n                        ref={inputRef}\n                        type=\"text\"\n                        value={currentCommand}\n                        onChange={(e) => setCurrentCommand(e.target.value)}\n                        onKeyDown={handleKeyDown}\n                        className=\"terminal-input\"\n                        spellCheck=\"false\"\n                        autoFocus\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Terminal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}